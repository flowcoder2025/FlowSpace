# 에셋 분석 및 가공 계획

> **최종 업데이트**: 2025-12-29
> **상위 문서**: [/docs/ROADMAP.md](../ROADMAP.md)
> **목적**: 게임 에셋 현황 분석 및 가공 워크플로우

---

## 1. 사용 가능한 에셋 (5개 파일)

### 1.1 파일 목록

| 파일 | 위치 | 내용 | 템플릿 매칭 |
|-----|------|------|------------|
| **1.jpeg** | `public/assets/game/test/` | 오피스 (책상, 파티션, 컴퓨터, 캐릭터) | OFFICE |
| **2.png** | `public/assets/game/test/` | 교실 (책상, 칠판, 책장, 사물함) | CLASSROOM |
| **3.png** | `public/assets/game/test/` | 야외 (잔디, 나무, 울타리, 물) | LOUNGE/공원 |
| **4.png** | `public/assets/game/test/` | 추가 오브젝트 (사물함, 자판기, 지도) | 공통 |
| **5.png** | `public/assets/game/test/` | 바닥 타일 6종 | 모든 템플릿 |

### 1.2 파일별 상세

#### 1.jpeg (오피스) - 핵심 에셋
- 캐릭터 스프라이트 (4방향: 앞/뒤/좌/우)
- 오피스 파티션 (상단/하단 뷰)
- 컴퓨터 데스크 세트 (모니터+키보드)
- 오피스 의자 (주황색 회전의자)
- 마스코트 캐릭터 (닭)

#### 2.png (교실)
- 벽돌 벽, 바닥 타일
- 책상 (4종 변형)
- 의자 (2종)
- 칠판, 화이트보드
- 책장 (2종), 사물함
- 지구본, 시계, 화분
- 포스터, 프로젝터, 어항

#### 3.png (야외)
- 잔디 타일 (4종)
- 물 타일, 연못
- 돌담, 나무 울타리
- 나무 (2종), 덤불, 바위
- 나무 상자, 통, 표지판

#### 4.png (추가 오브젝트)
- 실험대, 해골 모형
- 컴퓨터 데스크, 스피커
- 마이크, 연단, 이젤
- 사물함 (열린/닫힌)
- 세계 지도, 자판기
- 소화기, 대걸레, 양동이

#### 5.png (바닥 타일)
- 대리석 타일 (흰색)
- 회색 타일
- 나무 바닥 (2종)
- 파란색 타일
- 테라코타 타일

---

## 2. 템플릿별 커버리지

| 템플릿 | 커버리지 | 부족한 요소 |
|-------|---------|------------|
| **OFFICE** | 90% | 회의실 테이블, 화이트보드 |
| **CLASSROOM** | 85% | 강단, 프로젝터 스크린 |
| **LOUNGE** | 70% | 소파, 바 테이블, 게임기 |

---

## 3. 기존 캐릭터 스프라이트

**위치**: `public/assets/game/sprites/`

| 파일 | 색상 |
|-----|------|
| character-default.png | 기본 |
| character-blue.png | 파랑 |
| character-green.png | 초록 |
| character-orange.png | 주황 |
| character-pink.png | 분홍 |
| character-purple.png | 보라 |
| character-red.png | 빨강 |
| character-yellow.png | 노랑 |

---

## 4. 에셋 가공 도구

### 4.1 도구 비교

| 도구 | 타입 | 장점 | 단점 | 추천 |
|-----|------|------|------|:----:|
| **TexturePacker** | GUI (유료) | 최고 품질, 자동 최적화 | $40 | ★★★★★ |
| **ShoeBox** | GUI (무료) | 무료, 자동 스프라이트 추출 | 오래됨 | ★★★★ |
| **Tiled** | GUI (무료) | 맵+타일셋 통합 관리 | 학습 필요 | ★★★★★ |
| **Sharp** | CLI (무료) | 자동화 가능, 빠름 | 수동 좌표 지정 | ★★★ |

### 4.2 권장 워크플로우

```
1. Tiled에서 에셋 이미지를 타일셋으로 등록
2. 타일셋에서 개별 타일 정의 (드래그로 선택)
3. 맵 레이아웃 직접 구성
4. JSON 내보내기 → Phaser에서 로드
```

---

## 5. 가공 작업 계획

### 5.1 단계별 작업

| 단계 | 작업 | 도구 | 예상 시간 |
|:---:|------|------|----------|
| 1 | 스프라이트 개별 추출 | Sharp/ImageMagick | 2-3시간 |
| 2 | 타일셋 정규화 (32×32 또는 64×64) | Tiled | 2-3시간 |
| 3 | Phaser Atlas JSON 생성 | TexturePacker | 1-2시간 |
| 4 | 맵 레이아웃 구성 | Tiled | 4-6시간 |

### 5.2 디렉토리 구조 (목표)

```
public/assets/game/
├── test/                    # 원본 에셋 (현재)
│   ├── 1.jpeg
│   ├── 2.png
│   ├── 3.png
│   ├── 4.png
│   └── 5.png
├── sprites/                 # 기존 캐릭터 스프라이트
│   └── character-*.png
├── character-parts/         # 48×64 파츠 (신규 - CHARACTER.md 참조)
│   ├── body/
│   ├── hair/
│   ├── top/
│   ├── bottom/
│   ├── shoes/
│   └── accessory/
├── tilesets/                # 정규화된 타일셋 (신규)
│   ├── office.png
│   ├── classroom.png
│   └── lounge.png
└── maps/                    # Tiled JSON 맵 (신규)
    ├── office.json
    ├── classroom.json
    └── lounge.json
```

---

## 6. 테스트 계획

### 6.1 임시 테스트 맵

**목표**: 작은 테스트 맵 (10×10 또는 15×15)

```
테스트 맵 구성:
┌─────────────────────────────┐
│ 바닥: 5.png (나무 바닥)       │
│ 오브젝트: 1.jpeg (오피스 책상) │
│ 캐릭터: 1.jpeg (캐릭터 추출)   │
└─────────────────────────────┘
```

### 6.2 검증 항목

- [ ] 타일 충돌 감지 정상 작동
- [ ] 오브젝트 레이어 분리 (캐릭터 뒤/앞)
- [ ] 캐릭터 이동 시 자연스러운 애니메이션
- [ ] 맵 경계 처리

---

## 7. 참고 문서

| 문서 | 내용 |
|-----|------|
| [CHARACTER.md](./CHARACTER.md) | 48×64 캐릭터 파츠 에셋 구조 |
| [ROADMAP.md](../ROADMAP.md) | 전체 작업 우선순위 |
| `/src/features/space/claude.md` | 공간 모듈 가이드 |

---

## 변경 이력

| 날짜 | 버전 | 변경 |
|-----|------|------|
| 2025-12-29 | 1.0.0 | 초기 생성 (new.md 에셋 부분 분리) |
| 2025-12-25 | - | 원본 new.md 작성 |
