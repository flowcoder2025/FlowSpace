# FlowSpace - 남은 작업 목록

> **최종 업데이트**: 2025-12-29
> **완료된 작업**: ROADMAP 1-5, 9-10순위
> **MVP 완성도**: ~85%

---

## 1. 에셋 제작 (ROADMAP 6순위) - 외부 의존

### 1.1 필요한 에셋

| 카테고리 | 규격 | 수량 | 상태 |
|---------|------|------|:----:|
| 캐릭터 스프라이트 | 48x64px | 8색상 x 4방향 x 4프레임 | ❌ |
| 타일셋 | 32x32px | OFFICE/CLASSROOM/LOUNGE | ⚠️ 부분 |
| 상호작용 오브젝트 | 다양 | 링크/공지/설문/포털 | ❌ |
| UI 아이콘 | 24x24px | 컨트롤/상태 표시 | ✅ |

### 1.2 캐릭터 스프라이트 상세

```
public/assets/game/characters/
├── char-default.png   # 기본 (청록색)
├── char-red.png       # 빨강
├── char-blue.png      # 파랑
├── char-green.png     # 초록
├── char-purple.png    # 보라
├── char-orange.png    # 주황
├── char-pink.png      # 분홍
└── char-yellow.png    # 노랑
```

**스프라이트시트 레이아웃** (48x64 x 4프레임 x 4방향):
```
┌────────────────────────────────────┐
│ Down1 │ Down2 │ Down3 │ Down4     │ Row 0: 아래 방향
├───────┼───────┼───────┼───────────┤
│ Left1 │ Left2 │ Left3 │ Left4     │ Row 1: 왼쪽 방향
├───────┼───────┼───────┼───────────┤
│ Right1│ Right2│ Right3│ Right4    │ Row 2: 오른쪽 방향
├───────┼───────┼───────┼───────────┤
│ Up1   │ Up2   │ Up3   │ Up4       │ Row 3: 위 방향
└────────────────────────────────────┘
```

### 1.3 타일셋 상세

| 템플릿 | 완성도 | 필요 타일 |
|-------|:------:|----------|
| OFFICE | 90% | 회의실 테이블, 화이트보드 |
| CLASSROOM | 85% | 책상 배열, 칠판 |
| LOUNGE | 70% | 소파, 커피 테이블, 식물 |

### 1.4 에셋 제작 도구 추천

- **Aseprite**: 픽셀 아트 전문 (유료, $20)
- **Piskel**: 무료 웹 기반 픽셀 에디터
- **LibreSprite**: Aseprite 오픈소스 포크
- **Tiled**: 타일맵 에디터 (무료)

---

## 2. 템플릿 맵 완성 (ROADMAP 7순위) - 에셋 필요

### 2.1 맵 구조

```
public/assets/game/maps/
├── office.json      # 사무실 템플릿
├── classroom.json   # 강의실 템플릿
└── lounge.json      # 라운지 템플릿
```

### 2.2 맵 레이어 구조

| 레이어 | 용도 | Z-Index |
|-------|------|:-------:|
| floor | 바닥 타일 | 0 |
| walls | 벽/장애물 | 1 |
| furniture | 가구/오브젝트 | 2 |
| decorations | 장식 (위로 지나감) | 3 |
| collision | 충돌 영역 (투명) | - |

### 2.3 작업 순서

1. Tiled에서 타일셋 import
2. 레이어별 맵 구성
3. 충돌 레이어 설정
4. JSON export → `public/assets/game/maps/`
5. Phaser에서 로드 테스트

---

## 3. 오브젝트 상호작용 연결 (ROADMAP 8순위) - 에셋 완성 후

### 3.1 상호작용 유형

| 오브젝트 | 트리거 | 동작 |
|---------|-------|------|
| 링크 오브젝트 | E키 | 외부 URL 새 탭 |
| 공지 오브젝트 | 근접 | 모달 표시 |
| 설문 오브젝트 | E키 | 외부 폼 연결 |
| 포털 오브젝트 | 충돌 | 맵 내 이동 |

### 3.2 구현 파일

```
src/features/space/game/objects/
├── InteractiveObject.ts   # 기본 클래스 (존재)
├── LinkObject.ts          # URL 오픈 (구현 필요)
├── NoticeObject.ts        # 공지 모달 (구현 필요)
├── SurveyObject.ts        # 설문 연결 (구현 필요)
└── PortalObject.ts        # 맵 이동 (구현 필요)
```

### 3.3 이벤트 플로우

```
플레이어 근접 → 상호작용 프롬프트 표시 → E키 입력 → 액션 실행
```

---

## 4. AI 도우미 연동 (ROADMAP 11순위) - 향후 확장

### 4.1 예상 기능

- 공간 내 AI 안내 봇
- 채팅 질의응답
- 자동 번역 지원

### 4.2 고려 사항

| 항목 | 옵션 | 비용 |
|-----|------|------|
| LLM API | OpenAI / Claude / 자체 모델 | 사용량 기반 |
| 호스팅 | Edge Functions / Lambda | 트래픽 기반 |
| Rate Limit | 사용자당 제한 필요 | - |

### 4.3 구현 시 필요 작업

1. API 제공자 선택 및 계약
2. `/api/ai/chat` 엔드포인트 생성
3. AI 캐릭터 스프라이트 제작
4. 채팅 UI 연동

---

## 5. SSO 지원 (ROADMAP 12순위) - 기업 고객용

### 5.1 지원 예정 IdP

- [ ] SAML 2.0
- [ ] OIDC (OpenID Connect)
- [ ] Azure AD
- [ ] Okta
- [ ] Google Workspace

### 5.2 구현 시 필요 작업

1. NextAuth.js SAML/OIDC 프로바이더 추가
2. 조직별 IdP 설정 DB 스키마
3. 도메인 기반 자동 IdP 라우팅
4. 관리자 SSO 설정 UI

### 5.3 비용 구조

| 플랜 | SSO 지원 | 비고 |
|-----|:-------:|------|
| Free | ❌ | 소셜 로그인만 |
| Pro | ❌ | 소셜 로그인만 |
| Enterprise | ✅ | SAML/OIDC |

---

## 6. 우선순위 요약

| 순위 | 작업 | 의존성 | 담당 |
|:---:|------|-------|------|
| **6** | 에셋 제작 | 없음 | 디자이너/아티스트 |
| **7** | 템플릿 맵 완성 | 6순위 | 디자이너 + 개발자 |
| **8** | 오브젝트 상호작용 | 6,7순위 | 개발자 (Claude) |
| **11** | AI 도우미 | 비즈니스 결정 | 개발자 |
| **12** | SSO 지원 | 기업 계약 | 개발자 |

---

## 7. 에셋 준비 후 작업 요청 방법

에셋이 준비되면 다음과 같이 요청:

```
/sc:implement 에셋 통합 및 맵 완성
- 캐릭터 스프라이트: public/assets/game/characters/ 완료
- 타일셋: public/assets/game/tilesets/ 완료
```

Claude가 처리할 작업:
1. Phaser 로더 업데이트
2. 스프라이트 애니메이션 설정
3. 맵 JSON 파싱 및 렌더링
4. 오브젝트 상호작용 로직 연결

---

## 변경 이력

| 날짜 | 변경 |
|-----|------|
| 2025-12-29 | 초기 생성 - ROADMAP 6-8, 11-12순위 정리 |
